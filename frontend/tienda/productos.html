<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="../assets/img/favicon.ico" type="image/x-icon">
  <title>Productos - KICKS</title>
  
  <!-- Estilos -->
  <link rel="stylesheet" href="../css/globals.css">
  <link rel="stylesheet" href="../css/productos.css">
  
  <!-- SweetAlert2 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  
  <!-- Script para aplicar tema antes del render -->
  <script>
    (function() {
      const storedTheme = localStorage.getItem("theme");
      const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
      const theme = storedTheme || (prefersDark ? "dark" : "light");
      document.documentElement.setAttribute("data-theme", theme);
    })();
  </script>
</head>
<body>

  <!-- Página de Productos -->
  <main class="productos-page">
    <div class="container">
      <!-- Encabezado -->
      <div class="productos-header">
        <h1 class="productos-title">Todos los Productos</h1>
        <p class="productos-subtitle">Encuentra el calzado perfecto para ti</p>
      </div>

      <!-- Filtros y Búsqueda -->
      <div class="productos-filters">
        <div class="filters-row">
          <!-- Búsqueda -->
          <div class="filter-group filter-search">
            <label for="search-input" class="filter-label">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.35-4.35"></path>
              </svg>
            </label>
            <input 
              type="text" 
              id="search-input" 
              class="filter-input" 
              placeholder="Buscar productos..."
              aria-label="Buscar productos"
            >
          </div>

          <!-- Filtro por Categoría -->
          <div class="filter-group">
            <label for="category-filter" class="filter-label-text">Categoría:</label>
            <select id="category-filter" class="filter-select">
              <option value="">Todas las categorías</option>
              <option value="senderismo">Senderismo</option>
              <option value="basketball">Basketball</option>
              <option value="running">Running</option>
            </select>
          </div>

          <!-- Filtro por Descuento -->
          <div class="filter-group">
            <label for="discount-filter" class="filter-label-text">Descuento:</label>
            <select id="discount-filter" class="filter-select">
              <option value="">Todos</option>
              <option value="true">Con descuento</option>
            </select>
          </div>

          <!-- Botón Limpiar Filtros -->
          <button id="clear-filters" class="btn-clear-filters">
            Limpiar filtros
          </button>
        </div>

        <!-- Contador de resultados -->
        <div class="productos-results-info">
          <p id="results-count">Cargando productos...</p>
        </div>
      </div>

      <!-- Grid de Productos -->
      <div class="productos-grid" id="productos-grid">
        <!-- Spinner de carga -->
        <div class="products-loading">
          <div class="loading-spinner"></div>
          <p>Cargando productos...</p>
        </div>
      </div>
    </div>
  </main>

  <!-- Scripts -->
  <script type="module">
    import { ThemeBtn } from '../components/theme-btn.js';
    import { Header } from '../components/header.js';
    import { Footer } from '../components/footer.js';
  
    ThemeBtn();
  
    const header = Header();
    document.body.insertBefore(header, document.body.firstChild);

    const footer = Footer();
    document.body.appendChild(footer);
  </script>
  <script type="module" src="../js/productos.js"></script>

</body>
</html>